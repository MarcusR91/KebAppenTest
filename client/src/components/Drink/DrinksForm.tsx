import { Form, Formik, FormikHelpers } from "formik";
import { Link } from "react-router-dom"
import { Button } from "../utils/Button";
import * as Yup from 'yup';
import { TextField } from "../Forms/TextField";
import { DrinksCreationDto } from "./Models/Drinks.model";

export const DrinksForm = (props: DrinksFormProps) => {
    return(
        <Formik initialValues={props.model}
        onSubmit = {props.onSubmit}
        validationSchema = {Yup.object({
            typeOfDrink: Yup.string().required('This field is required').firstLetterUppercase()
        })}
        >
            {(formikProps) => (
                 <Form>
                 <TextField field = 'typeOfDrink' displayName="typeOfDrink" type="text"/>

                 <Button className="btn btn-primary" disabled={formikProps.isSubmitting} type="submit">Save Changes</Button>
                 <Link className="btn btn-secondary" to="/drinks">Cancel</Link>
             </Form>
            )}
           
        </Formik>
    )
}

interface DrinksFormProps {
    model: DrinksCreationDto;
    onSubmit(values: DrinksCreationDto, action: FormikHelpers<DrinksCreationDto>) : void;
}