
import axios from "axios";
import { useHistory } from "react-router-dom";
import { DrinksForm } from "./DrinksForm";
import { DrinksCreationDto } from "./Models/Drinks.model";

export const CreateDrink = () => {

    const history = useHistory();

    const  CreateNewDrink = async (drink: DrinksCreationDto) =>{
        try {
            await axios.post('https://localhost:7117/api/Drink', drink);
            console.log(drink)
            history.push("/drinks");
    
        } catch (error) {
            console.error(error);
        }
    }

    return(
        <>
            <h3>Create Drink</h3>

           <DrinksForm model = {{ typeOfDrink: ''}} 
            onSubmit={async value =>{
            CreateNewDrink(value);
            // console.log(value)
           }}/>
            
        </>
    )
}