import { Form, Formik, FormikHelpers } from "formik";
import { KebabCreationDto } from "./Models/Kebab.model";
import { Link } from "react-router-dom"
import { Button } from "../utils/Button";
import * as Yup from 'yup';
import { TextField } from "../Forms/TextField";

export const KebabForm = (props: KebabFormProps) => (
    <Formik initialValues={props.model}
        onSubmit={props.onSubmit}
        validationSchema={Yup.object({
            name: Yup.string().required('This field is required').firstLetterUppercase()
        })}
    >
        {(formikProps) => (
            <Form>
                <TextField field='name' displayName="Name" type="text"/>

                <Button className="btn btn-primary" disabled={formikProps.isSubmitting} type="submit">Save Changes</Button>
                <Link className="btn btn-secondary" to="/drinks">Cancel</Link>
            </Form>
        )}

    </Formik>
)

interface KebabFormProps {
    model: KebabCreationDto;
    onSubmit(values: KebabCreationDto, action: FormikHelpers<KebabCreationDto>) : void;
}