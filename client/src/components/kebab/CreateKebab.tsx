import axios from "axios";
import { useHistory } from "react-router-dom";
import { urlKebabs } from "../../Endpoints";
import { KebabForm } from "./KebabForm";
import { KebabCreationDto} from "./Models/Kebab.model";



export const CreateKebab = () => {

    const history = useHistory();

    const  CreateNewKebab = async (kebab: KebabCreationDto) =>{
        try {
            await axios.post( urlKebabs, kebab);
            console.log(kebab)
            history.push("/kebabs");
    
        } catch (error) {
            console.error(error);
        }
    }
    return(
        <>
            <h3>LÃ¤gg till Kebab</h3>

            <KebabForm model = {{name: ''}} 
            onSubmit={async value =>{
                await CreateNewKebab(value);
           }}/>
        </>
    )
}