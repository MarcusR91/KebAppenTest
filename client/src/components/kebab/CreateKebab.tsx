import axios from "axios";
import { useHistory } from "react-router-dom";
import { KebabForm } from "./KebabForm";
import { KebabCreationDto} from "./Models/Kebab.model";



export const CreateKebab = () => {

    const history = useHistory();

    const  CreateNewKebab = async (kebab: KebabCreationDto) =>{
        try {
            await axios.post('https://localhost:7117/api/Kebab', kebab);
            console.log(kebab)
            history.push("/kebabs");
    
        } catch (error) {
            console.error(error);
        }
    }
    return(
        <>
            <h3>Create Kebab</h3>

            <KebabForm model = {{name: ''}} 
            onSubmit={async value =>{
                await CreateNewKebab(value);
                // console.log(value)
           }}/>

        </>
    )
}